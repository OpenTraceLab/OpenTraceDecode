---
title: Logging
summary: Controlling the libopentracedecode message logging functionality. 

---

# Logging

Controlling the libopentracedecode message logging functionality. 

## Functions

|                | Name           |
| -------------- | -------------- |
| int | **[otd_logv](Modules/a00086.md#function-otd-logv)**(void * cb_data, int loglevel, const char * format, va_list args) |
| [OTD_API](Files/a00258.md#define-otd-api) int | **[otd_log_loglevel_set](Modules/a00086.md#function-otd-log-loglevel-set)**(int loglevel)<br>Set the libopentracedecode loglevel.  |
| [OTD_API](Files/a00258.md#define-otd-api) int | **[otd_log_loglevel_get](Modules/a00086.md#function-otd-log-loglevel-get)**(void )<br>Get the libopentracedecode loglevel.  |
| [OTD_API](Files/a00258.md#define-otd-api) int | **[otd_log_callback_set](Modules/a00086.md#function-otd-log-callback-set)**([otd_log_callback](Files/a00258.md#typedef-otd-log-callback) cb, void * cb_data)<br>Set the libopentracedecode log callback to the specified function.  |
| [OTD_API](Files/a00258.md#define-otd-api) int | **[otd_log_callback_get](Modules/a00086.md#function-otd-log-callback-get)**([otd_log_callback](Files/a00258.md#typedef-otd-log-callback) * cb, void ** cb_data)<br>Get the libopentracedecode log callback routine and callback data.  |
| [OTD_API](Files/a00258.md#define-otd-api) int | **[otd_log_callback_set_default](Modules/a00086.md#function-otd-log-callback-set-default)**(void )<br>Set the libopentracedecode log callback to the default built-in one.  |

## Attributes

|                | Name           |
| -------------- | -------------- |
| int | **[cur_loglevel](Modules/a00086.md#variable-cur-loglevel)**  |
| [otd_log_callback](Files/a00258.md#typedef-otd-log-callback) | **[otd_log_cb](Modules/a00086.md#variable-otd-log-cb)**  |
| void * | **[otd_log_cb_data](Modules/a00086.md#variable-otd-log-cb-data)**  |


## Functions Documentation

### function otd_logv

```
static int otd_logv(
    void * cb_data,
    int loglevel,
    const char * format,
    va_list args
)
```


### function otd_log_loglevel_set

```
OTD_API int otd_log_loglevel_set(
    int loglevel
)
```

Set the libopentracedecode loglevel. 

**Parameters**: 

  * **loglevel** The loglevel to set (OTD_LOG_NONE, OTD_LOG_ERR, OTD_LOG_WARN, OTD_LOG_INFO, OTD_LOG_DBG, or OTD_LOG_SPEW).


**Return**: OTD_OK upon success, OTD_ERR_ARG upon invalid loglevel.

**Since**: 0.1.0 

This influences the amount of log messages (debug messages, error messages, and so on) libopentracedecode will output. Using OTD_LOG_NONE disables all messages.

Note that this function itself will also output log messages. After the loglevel has changed, it will output a debug message with OTD_LOG_DBG for example. Whether this message is shown depends on the (new) loglevel.


### function otd_log_loglevel_get

```
OTD_API int otd_log_loglevel_get(
    void 
)
```

Get the libopentracedecode loglevel. 

**Return**: The currently configured libopentracedecode loglevel.

**Since**: 0.1.0 

### function otd_log_callback_set

```
OTD_API int otd_log_callback_set(
    otd_log_callback cb,
    void * cb_data
)
```

Set the libopentracedecode log callback to the specified function. 

**Parameters**: 

  * **cb** Function pointer to the log callback function to use. Must not be NULL. 
  * **cb_data** Pointer to private data to be passed on. This can be used by the caller to pass arbitrary data to the log functions. This pointer is only stored or passed on by libopentracedecode, and is never used or interpreted in any way. The pointer is allowed to be NULL if the caller doesn't need/want to pass any data.


**Return**: OTD_OK upon success, OTD_ERR_ARG upon invalid arguments.

**Since**: 0.3.0 

### function otd_log_callback_get

```
OTD_API int otd_log_callback_get(
    otd_log_callback * cb,
    void ** cb_data
)
```

Get the libopentracedecode log callback routine and callback data. 

**Parameters**: 

  * **cb** Pointer to a function pointer to receive the log callback function. Optional, can be NULL. 
  * **cb_data** Pointer to a void pointer to receive the log callback's additional arguments. Optional, can be NULL.


**Return**: OTD_OK upon success.

**Since**: 0.5.2 

### function otd_log_callback_set_default

```
OTD_API int otd_log_callback_set_default(
    void 
)
```

Set the libopentracedecode log callback to the default built-in one. 

**Return**: OTD_OK upon success, a (negative) error code otherwise.

**Since**: 0.1.0 

Additionally, the internal 'otd_log_cb_data' pointer is set to NULL.



## Attributes Documentation

### variable cur_loglevel

```
static int cur_loglevel = OTD_LOG_WARN;
```


### variable otd_log_cb

```
static otd_log_callback otd_log_cb = otd_logv;
```


### variable otd_log_cb_data

```
static void * otd_log_cb_data = NULL;
```





-------------------------------

Updated on 2025-09-30 at 08:32:12 +0700