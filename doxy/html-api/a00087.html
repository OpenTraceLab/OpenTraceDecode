<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenTraceDecode: Initialization</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="sigrok-logo-notext.png"/></td>
  <td id="projectalign">
   <div id="projectname">OpenTraceDecode<span id="projectnumber">&#160;unreleased development snapshot</span>
   </div>
   <div id="projectbrief">sigrok protocol decoding library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Initialization</div></div>
</div><!--header-->
<div class="contents">

<p>Initializing and shutting down libopentracedecode.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga67fdfc4ec132b22cec05a0e7bc1ddd84" id="r_ga67fdfc4ec132b22cec05a0e7bc1ddd84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00258.html#ab6fe8fd245a46558f9f1858611a03522">OTD_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00087.html#ga67fdfc4ec132b22cec05a0e7bc1ddd84">otd_init</a> (const char *path)</td></tr>
<tr class="memdesc:ga67fdfc4ec132b22cec05a0e7bc1ddd84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize libopentracedecode.  <br /></td></tr>
<tr class="separator:ga67fdfc4ec132b22cec05a0e7bc1ddd84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69b20ec5173c2ad80d51b54727b6b07e" id="r_ga69b20ec5173c2ad80d51b54727b6b07e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00258.html#ab6fe8fd245a46558f9f1858611a03522">OTD_API</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00087.html#ga69b20ec5173c2ad80d51b54727b6b07e">otd_exit</a> (void)</td></tr>
<tr class="memdesc:ga69b20ec5173c2ad80d51b54727b6b07e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown libopentracedecode.  <br /></td></tr>
<tr class="separator:ga69b20ec5173c2ad80d51b54727b6b07e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3360236fc45072044f24ba1ef274cf0b" id="r_ga3360236fc45072044f24ba1ef274cf0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00258.html#ab6fe8fd245a46558f9f1858611a03522">OTD_API</a> GSList *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00087.html#ga3360236fc45072044f24ba1ef274cf0b">otd_searchpaths_get</a> (void)</td></tr>
<tr class="memdesc:ga3360236fc45072044f24ba1ef274cf0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the list of protocol decoder search paths.  <br /></td></tr>
<tr class="separator:ga3360236fc45072044f24ba1ef274cf0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Initializing and shutting down libopentracedecode. </p>
<p>Before using any of the libopentracedecode functionality, <a class="el" href="a00087.html#ga67fdfc4ec132b22cec05a0e7bc1ddd84" title="Initialize libopentracedecode.">otd_init()</a> must be called to initialize the library.</p>
<p>When libopentracedecode functionality is no longer needed, <a class="el" href="a00087.html#ga69b20ec5173c2ad80d51b54727b6b07e" title="Shutdown libopentracedecode.">otd_exit()</a> should be called. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga69b20ec5173c2ad80d51b54727b6b07e" name="ga69b20ec5173c2ad80d51b54727b6b07e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69b20ec5173c2ad80d51b54727b6b07e">&#9670;&#160;</a></span>otd_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00258.html#ab6fe8fd245a46558f9f1858611a03522">OTD_API</a> int otd_exit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown libopentracedecode. </p>
<p>This frees all the memory allocated for protocol decoders and shuts down the Python interpreter.</p>
<p>This function should only be called if there was a (successful!) invocation of <a class="el" href="a00087.html#ga67fdfc4ec132b22cec05a0e7bc1ddd84" title="Initialize libopentracedecode.">otd_init()</a> before. Calling this function multiple times in a row, without any successful <a class="el" href="a00087.html#ga67fdfc4ec132b22cec05a0e7bc1ddd84" title="Initialize libopentracedecode.">otd_init()</a> calls in between, is not allowed.</p>
<dl class="section return"><dt>Returns</dt><dd>OTD_OK upon success, a (negative) error code otherwise.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.1.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00053_source.html#l00344">344</a> of file <a class="el" href="a00053_source.html">otd.c</a>.</p>

<p class="reference">References <a class="el" href="a00062_source.html#l00115">otd_dbg</a>, <a class="el" href="a00059_source.html#l01303">otd_decoder_unload_all()</a>, and <a class="el" href="a00258_source.html#l00067">OTD_OK</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="a00087_ga69b20ec5173c2ad80d51b54727b6b07e_cgraph.png" border="0" usemap="#aa00087_ga69b20ec5173c2ad80d51b54727b6b07e_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga67fdfc4ec132b22cec05a0e7bc1ddd84" name="ga67fdfc4ec132b22cec05a0e7bc1ddd84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67fdfc4ec132b22cec05a0e7bc1ddd84">&#9670;&#160;</a></span>otd_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00258.html#ab6fe8fd245a46558f9f1858611a03522">OTD_API</a> int otd_init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize libopentracedecode. </p>
<p>This initializes the Python interpreter, and creates and initializes a "sigrokdecode" Python module.</p>
<p>Then, it searches for sigrok protocol decoders in the "decoders" subdirectory of the the libopentracedecode installation directory. All decoders that are found are loaded into memory and added to an internal list of decoders, which can be queried via <a class="el" href="a00083.html#gaee447626b718c4de27e703452cba60ad" title="Returns the list of loaded protocol decoders.">otd_decoder_list()</a>.</p>
<p>The caller is responsible for calling the clean-up function <a class="el" href="a00087.html#ga69b20ec5173c2ad80d51b54727b6b07e" title="Shutdown libopentracedecode.">otd_exit()</a>, which will properly shut down libopentracedecode and free its allocated memory.</p>
<p>Multiple calls to <a class="el" href="a00087.html#ga67fdfc4ec132b22cec05a0e7bc1ddd84" title="Initialize libopentracedecode.">otd_init()</a>, without calling <a class="el" href="a00087.html#ga69b20ec5173c2ad80d51b54727b6b07e" title="Shutdown libopentracedecode.">otd_exit()</a> in between, are not allowed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Path to an extra directory containing protocol decoders which will be added to the Python sys.path. May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OTD_OK upon success, a (negative) error code otherwise. Upon Python errors, OTD_ERR_PYTHON is returned. If the decoders directory cannot be accessed, OTD_ERR_DECODERS_DIR is returned. If not enough memory could be allocated, OTD_ERR_MALLOC is returned.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.1.0 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00053_source.html#l00219">219</a> of file <a class="el" href="a00053_source.html">otd.c</a>.</p>

<p class="reference">References <a class="el" href="a00062_source.html#l00115">otd_dbg</a>, <a class="el" href="a00053_source.html#l00390">otd_decoder_searchpath_add()</a>, <a class="el" href="a00258_source.html#l00068">OTD_ERR</a>, <a class="el" href="a00062_source.html#l00118">otd_err</a>, <a class="el" href="a00258_source.html#l00067">OTD_OK</a>, and <a class="el" href="a00062.html#abc7bd38e0e284d3a3ba5e5e30ec3dfe1">PyInit_opentracedecode()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="a00087_ga67fdfc4ec132b22cec05a0e7bc1ddd84_cgraph.png" border="0" usemap="#aa00087_ga67fdfc4ec132b22cec05a0e7bc1ddd84_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ga3360236fc45072044f24ba1ef274cf0b" name="ga3360236fc45072044f24ba1ef274cf0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3360236fc45072044f24ba1ef274cf0b">&#9670;&#160;</a></span>otd_searchpaths_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00258.html#ab6fe8fd245a46558f9f1858611a03522">OTD_API</a> GSList * otd_searchpaths_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the list of protocol decoder search paths. </p>
<dl class="section return"><dt>Returns</dt><dd>The list of search paths used when loading protocol decoders.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.5.1 </dd></dl>

<p class="definition">Definition at line <a class="el" href="a00053_source.html#l00434">434</a> of file <a class="el" href="a00053_source.html">otd.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Sep 30 2025 08:31:59 for OpenTraceDecode by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
